import{_ as e}from"./index-D6HtlO07.js";import"./vue-DR1ZZU5f.js";import"./vendor-DGEJccjb.js";function n(n={}){const{immediate:t=!1,onNeedRefresh:i,onOfflineReady:o,onRegistered:r,onRegisteredSW:s,onRegisterError:a}=n;let l,d,c;return d=async function(){if("serviceWorker"in navigator){if(l=await e(async()=>{const{Workbox:e}=await import("./workbox-window.prod.es5-CLYUWRvB.js");return{Workbox:e}},[]).then(({Workbox:e})=>new e("/sw.js",{scope:"/",type:"classic"})).catch(e=>{null==a||a(e)}),!l)return;c=()=>{null==l||l.messageSkipWaiting()};{let e=!1;const n=()=>{e=!0,null==l||l.addEventListener("controlling",e=>{e.isUpdate&&window.location.reload()}),null==i||i()};l.addEventListener("installed",t=>{void 0===t.isUpdate?void 0!==t.isExternal&&t.isExternal?n():!e&&(null==o||o()):t.isUpdate||null==o||o()}),l.addEventListener("waiting",n)}l.register({immediate:t}).then(e=>{s?s("/sw.js",e):null==r||r(e)}).catch(e=>{null==a||a(e)})}}(),async(e=!0)=>{await d,null==c||c()}}export{n as registerSW};
